(function(n){n.widget("kodingsykosis.panel",{options:{title:undefined,collapsable:!0,collapsed:!1,closable:!1,refreshable:!0,tabPanel:!1,tabPosition:"bottom",url:undefined,draggable:undefined,resizable:undefined,height:400,width:300},_create:function(){var t=this.options.title||this.options.collapsable||this.options.closable||this.options.refreshable||this.element.attr("title");n.extend(this,{header:n(".ui-panel-header",this.element),content:n(".ui-panel-content",this.element),panel:n(".ui-panel",this.element)}),this.content.length==0&&(this.content=this.element),this.panel.length==0&&(this.panel=n("<div>",{"class":"ui-panel"}),this.content.wrap(this.panel),this.panel=this.content.parent(),this.panel.on({resize:n.proxy(this._onResize,this),drag:n.proxy(this._onDrag,this)}).data(n.camelCase(this.widgetFullName),this)),this.header.length==0&&t!==!1&&this._createHeader(),this.options.collapsed&&this.content.hide(),this.panel.css({height:this.options.height,width:this.options.width}),this.header.addClass("ui-widget-header ui-not-selectable").toggleClass("ui-corner-top",!this.options.tabPanel),this.content.addClass("ui-panel-content ui-widget-content").toggleClass("ui-corner-bottom",!this.options.tabPanel),this.options.draggable&&(typeof this.options.draggable=="boolean"&&(this.options.draggable={}),this.panel.draggable(n.extend({handle:this.header},this.options.draggable))),this.options.resizable&&this.panel.resizable(this.options.resizable),this.options.closable&&this.header.append(n("<span>",{"class":"ui-icon ui-icon-close",click:n.proxy(this._onCloseClicked,this)})),this.options.collapsable&&this.header.append(n("<span>",{"class":"ui-icon ui-icon-minus",click:n.proxy(this._onCollapseClicked,this)})),this.options.refreshable&&this.options.url&&this.header.append(n("<span>",{"class":"ui-icon ui-icon-refresh",click:n.proxy(this._onRefreshClicked,this)})),this.options.layout&&this.content.layout&&this.content.layout(this.options.layout),this.options.tabPanel&&this._createTab(),this.options.url&&this.load(this.options.url)},load:function(n){var t=this.element,i=this;this.content.load(n,function(){t.trigger("refresh"),i._autoRefresh()})},title:function(n){return typeof n!="undefined"&&(this.options.title=n,this.header?this.header.children(".ui-panel-title").html(n):this._createHeader()),this.header.children(".ui-panel-title").text()},close:function(t){(t||(t=n.Event("closing")),t.index=this.panel.index(),this._trigger("closing",t))&&(this.panel.remove(),this._trigger("close",t))},_createHeader:function(){this.header=n("<div>",{"class":"ui-panel-header ui-accordin-header",append:n("<span>",{"class":"ui-panel-title",html:this.options.title||this.element.attr("title")||"Untitled"})}),this.content.removeAttr("title"),this.panel.prepend(this.header)},_createTab:function(){var t=this.options.tabPosition;this.panel.addClass("ui-panel-tab"),this.header.addClass("ui-state-default").toggle(t!=="left"&&t!=="right"),this.header.is(":visible")&&this.panel.toggleClass("ui-panel-tab-bottom",t==="bottom"),this.header.click(n.proxy(this._onTitleClicked,this)).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")})},_autoRefresh:function(){this.options.url&&typeof this.options.refreshInterval=="number"&&setTimeout(n.proxy(this._onRefreshClicked,this),this.options.refreshInterval)},_onTitleClicked:function(n){n.index=this.panel.index(),this._trigger("active",n)},_onCloseClicked:function(n){this.close(n)},_onCollapseClicked:function(t){var i=this.content.is(":visible"),r=n(t.delegateTarget||t.target),u=this.header,f=this.panel;r.toggleClass("ui-icon-minus",!i),r.toggleClass("ui-icon-extlink",i),u.toggleClass("ui-corner-all",i),i&&(this.originalHeight=this.content.height()),this.content.show().animate({height:i?0:this.originalHeight},{step:function(n){f.height(n+u.outerHeight())},complete:n.proxy(this._animateComplete,this)})},_animateComplete:function(){var n=this.options.resizable,t=parseInt(this.content.height())==0;(this.header.toggleClass("ui-corner-all",t),n)&&(t?(this.panel.resizable("destroy"),this.content.hide(),this.element.trigger("collapsed")):(this.panel.resizable(n),this.content.css({height:"auto",bottom:"0"}),this.element.trigger("expanded")))},_onRefreshClicked:function(){this.load(this.options.url)},_onResize:function(n,t){this.element.triggerHandler("resize",t)},_onDrag:function(n,t){this.element.triggerHandler("drag",t)}})})(jQuery);
//@ sourceMappingURL=jQuery.ui.panel.min.js.map